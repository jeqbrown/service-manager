{% extends "admin/base.html" %}
{% load static %}

{% block title %}{{ title }} | Service Manager{% endblock %}

{% block extrastyle %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'custom_admin/css/custom_admin.css' %}">
{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <link rel="icon" type="image/svg+xml" href="{% static 'favicon.svg' %}">
    <link rel="alternate icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Remove popup behavior but keep icon classes
            document.querySelectorAll('.add-another, .related-lookup, .change-related').forEach(function(el) {
                el.removeAttribute('onclick');
                if (el.tagName === 'A') {
                    el.setAttribute('target', '_self');
                }
            });

            // Override the RelatedObjectLookups.js functions
            window.showRelatedObjectLookupPopup = function(triggeringLink) {
                window.location.href = triggeringLink.href;
                return false;
            };
        });
    </script>
{% endblock %}

{% block branding %}
    <h1 id="site-name">
        <a href="{% url 'admin:index' %}">Service Manager Administration</a>
    </h1>
{% endblock %}

{% block nav-global %}{% endblock %}

{% block content %}
    <div class="dashboard-wrapper">
        {{ block.super }}
    </div>
{% endblock %}
